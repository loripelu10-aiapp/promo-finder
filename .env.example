# ============================================================================
# PromoFinder Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Application Environment
# ----------------------------------------------------------------------------
NODE_ENV=development
# Options: development, staging, production

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
PORT=3001
# Port for the backend API server

FRONTEND_URL=http://localhost:3000
# URL where the frontend is hosted (for CORS)

# ----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql://promofinder:your_password@localhost:5432/promofinder
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Local dev: postgresql://promofinder:promofinder_dev_password@localhost:5432/promofinder
# Railway: Provided automatically in Railway dashboard

# ----------------------------------------------------------------------------
# Redis Configuration (Caching)
# ----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
# Redis connection string for caching
# Local dev: redis://localhost:6379
# Railway Redis: redis://default:PASSWORD@HOST:PORT
# Upstash: redis://default:PASSWORD@HOST:PORT (get from upstash.com)

# ----------------------------------------------------------------------------
# API Keys - Shopping/Deals APIs
# ----------------------------------------------------------------------------

# RapidAPI Key (for Rainforest API access)
RAPIDAPI_KEY=your_rapidapi_key_here
# Get from: https://rapidapi.com/auth/sign-up
# Subscribe to: Real-Time Product Search API
# Free tier: 100 requests/month

# Rainforest API Key (alternative to RapidAPI)
RAINFOREST_API_KEY=your_rainforest_api_key_here
# Get from: https://www.rainforestapi.com/
# Free tier: 100 requests/month
# Used for product search and price tracking

# ----------------------------------------------------------------------------
# API Keys - Translation & AI
# ----------------------------------------------------------------------------

# DeepL API Key (for translations)
DEEPL_API_KEY=your_deepl_api_key_here
# Get from: https://www.deepl.com/pro-api
# Free tier: 500,000 characters/month
# Used for multilingual product descriptions

# Claude API Key (Anthropic)
CLAUDE_API_KEY=your_claude_api_key_here
# Get from: https://console.anthropic.com/
# Used for AI-powered product recommendations
# Required for advanced features

# ----------------------------------------------------------------------------
# Monitoring & Error Tracking
# ----------------------------------------------------------------------------

# Sentry DSN (Error Tracking)
SENTRY_DSN=your_sentry_dsn_here
# Get from: https://sentry.io/
# Free tier: 5k errors/month
# Format: https://[key]@[organization].ingest.sentry.io/[project]
# Optional but recommended for production

# Sentry Environment
SENTRY_ENVIRONMENT=development
# Options: development, staging, production

# ----------------------------------------------------------------------------
# Scraping Configuration (Optional)
# ----------------------------------------------------------------------------

# Puppeteer Configuration
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=false
# Set to true if using system Chromium (production/Docker)

PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium
# Path to Chromium executable (Docker: /usr/bin/chromium)
# Leave empty for local development

# Scraping Rate Limiting
SCRAPER_RATE_LIMIT=1000
# Delay between requests in milliseconds (default: 1000ms = 1s)

SCRAPER_MAX_RETRIES=3
# Maximum number of retry attempts for failed requests

# ----------------------------------------------------------------------------
# Caching Configuration
# ----------------------------------------------------------------------------

CACHE_TTL=7200
# Cache time-to-live in seconds (default: 7200 = 2 hours)

DEALS_REFRESH_INTERVAL=7200000
# Auto-refresh interval in milliseconds (default: 7200000 = 2 hours)

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------

# JWT Secret (for authentication - future use)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
# Generate strong secret: openssl rand -base64 32

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
# Allowed origins for CORS requests

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------

ENABLE_CRON_JOBS=true
# Enable automatic deal scraping via cron jobs

ENABLE_REAL_TIME_API=true
# Enable real-time API deal fetching

ENABLE_PUPPETEER_SCRAPING=false
# Enable Puppeteer-based scraping (resource intensive)

# ----------------------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------------------

LOG_LEVEL=info
# Options: error, warn, info, debug, trace

LOG_FORMAT=json
# Options: json, text

# ----------------------------------------------------------------------------
# Railway-Specific Configuration (Auto-populated by Railway)
# ----------------------------------------------------------------------------

# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=your-project-id
# RAILWAY_REPLICA_ID=your-replica-id
# RAILWAY_SERVICE_ID=your-service-id

# These are automatically set by Railway - do not modify manually

# ============================================================================
# END OF CONFIGURATION
# ============================================================================

# ----------------------------------------------------------------------------
# Quick Start Commands
# ----------------------------------------------------------------------------
# 1. Copy this file: cp .env.example .env
# 2. Fill in your API keys
# 3. For local dev with Docker: docker-compose up
# 4. For local dev without Docker: npm run dev
# ----------------------------------------------------------------------------

# ----------------------------------------------------------------------------
# Environment-Specific Examples
# ----------------------------------------------------------------------------

# DEVELOPMENT (.env.development)
# NODE_ENV=development
# DATABASE_URL=postgresql://promofinder:dev_password@localhost:5432/promofinder
# REDIS_URL=redis://localhost:6379
# FRONTEND_URL=http://localhost:3000

# STAGING (.env.staging)
# NODE_ENV=staging
# DATABASE_URL=postgresql://... (Railway staging DB)
# REDIS_URL=redis://... (Upstash staging)
# FRONTEND_URL=https://staging.promofinder.app

# PRODUCTION (.env.production)
# NODE_ENV=production
# DATABASE_URL=postgresql://... (Railway production DB)
# REDIS_URL=redis://... (Upstash production)
# FRONTEND_URL=https://promofinder.app
